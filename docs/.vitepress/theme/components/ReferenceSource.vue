<!--åœ¨æ–‡ç« ä¸­æ˜¾ç¤ºå†…å®¹å¼•ç”¨æ¥æº-->
<script setup>
import { defineProps } from 'vue'
import { ElCard, ElButton, ElTag } from 'element-plus'
import { Link as ElIconLink } from '@element-plus/icons-vue'

const props = defineProps({
  sources: {
    type: Array,
    required: true
  }
})

const openLink = (url) => {
  window.open(url, '_blank') // åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€é“¾æ¥
}

</script>

<template>
  <div class="reference-container">
    <h2>å¼•ç”¨æ¥æº</h2>
    <el-card v-for="(source, index) in sources" :key="index" class="reference-card">
      <template #header>
        <div class="card-header">
          <strong class="source-title">{{ source.title || 'æœªæä¾›æ ‡é¢˜' }}</strong>
          <el-tag v-if="source.category" type="info">{{ source.category }}</el-tag>
        </div>
      </template>

      <p v-if="source.description">{{ source.description }}</p>
      <p><strong>æ¥æºï¼š</strong>{{ source.site || 'æœªçŸ¥æ¥æº' }}</p>
      <p v-if="source.author"><strong>ğŸ‘¤ ä½œè€…ï¼š</strong>{{ source.author }}</p>
      <p v-if="source.date"><strong>ğŸ“… å‘å¸ƒæ—¶é—´ï¼š</strong>{{ source.date }}</p>

      <el-button v-if="source.link" type="primary" @click="openLink(source.link)">
        <el-icon-link class="icon-link" /> æŸ¥çœ‹åŸæ–‡
      </el-button>
    </el-card>
  </div>
</template>

<style scoped>
  .reference-container {
    margin-top: 20px;
  }

  .reference-title {
    font-size: 20px;
    font-weight: bold;
    text-align: left;
  }

  .reference-card {
    margin-bottom: 16px;
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .source-title {
    flex-grow: 1;
  }

  .icon-link {
    margin-right: 5px;
  }
</style>